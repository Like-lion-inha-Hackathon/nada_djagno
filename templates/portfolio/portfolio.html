{% extends "base.html" %}
{% load static %}
<head>
    {% block css %}
        <link rel="stylesheet" href="{% static 'css/portfolio/portfolio.css' %}">
    {% endblock css %}
</head>
{% block page_title %} 나다 : NADA {% endblock %}

<!--User Profile-->
{% block islogin %}
{% if request.user.is_authenticated %}
    <a href="{% url 'users:logout' %}">Log out</a>
{% endif %} 
{% if request.user.is_authenticated is False %}
    <a href="{% url 'users:login' %}">Log In</a>
{% endif %} 
{% endblock islogin %}


    

{% block content %}
<div class="left_right_all_page">
    <div></div>
    <div class="portfolio_main">
        <div class="index_three">
            <div class="index_three_one_window">
                <div class="index_three_one_window_flex">
                    <span class="name_doohee">{{user.username}}</span>
                    <div class="index_three_real_one_window">
                        <img class="image" src="{% get_media_prefix %}/{{user.avatar}}">
                    </div>
                    <div class="profile_edit">
                        <div class="profile_edit_main">
                            <span>프로필 편집</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="index_three_window">
                <div class="index_three_real_window"></div>
                <div class="profile_first_page_right_nav">
                    <div class="profile_first_page_right_nav_one">
                        <i class="fas fa-heart fa-2x heartclick"></i>
                    </div>
                    <div class="empty"></div>
                    <div class="profile_first_page_right_nav_two">
                        <i class="fas fa-sign-in-alt fa-2x"></i>
                    </div>
                    <div class="empty"></div>
                    <div class="profile_first_page_right_nav_three">
                        <i class="far fa-folder fa-2x">
                        </i>
                    </div>
                </div>
            </div>
        </div>
        <div class="index_four">
            <div class="index_four_one_window">
                <div class="index_four_real_one_window">
                    <div class="index_four_real_one_window_flex">
                        <div class="index_four_real_one_window_one">학점 : 4.43</div>
                    </div>
                    <div class="index_four_real_one_window_flex">    
                        <div class="index_four_real_one_window_two">토익 : 990</div>
                    </div>
                    <div class="index_four_real_one_window_flex">
                        <div class="index_four_real_one_window_three">자격증 : 정보처리기사, 컴퓨터활용능력 1급</div>
                    </div>
                    <div class="index_four_real_one_window_flex">
                        <div class="index_four_real_one_window_four">곤니찌와</div>
                    </div>
                    <div class="index_four_real_one_window_flex">
                        <div class="index_four_real_one_window_five">경력 : 올림픽 금메달 2개, 25대 대통령</div>
                    </div>
                </div>
            </div>
            <div class="index_four_window">
                <div class="compare">compare</div>
                <div class="index_four_real_window">
                    <canvas id="line-chart" ></canvas>
                </div>
                <form action="{% url 'portfolios:main' %}" method="POST">
                    {% csrf_token %}
                    <label for="username">사용자 이름</label>
                    <input id="username"  name="username" value="{{user.username}}" placeholder="이름을 입력하세요"><br>
                    <label for="num1">20</label>
                    <input id="num1" type="number" name="number1">
                    <label for="text1">설명</label>
                    <input id="text1" type="text" name="text1" placeholder="설명을 입력하세요"><br>
                    <label for="num2">21</label>
                    <input id="num2" type="number" name="number2">
                    <label for="text2">설명</label>
                    <input id="text2" type="text" name="text2" placeholder="설명을 입력하세요"><br>
                    <label for="num3">22</label>
                    <input id="num3" type="number" name="number3">
                    <label for="text3">설명</label>
                    <input id="text3" type="text" name="text3" placeholder="설명을 입력하세요"><br>
                    <label for="num4">23</label>
                    <input id="num4" type="number" name="number4">
                    <label for="text4">설명</label>
                    <input id="text4" type="text" name="text4" placeholder="설명을 입력하세요"><br>
                    <label for="num5">24</label>
                    <input id="num5" type="number" name="number5">
                    <label for="text5">설명</label>
                    <input id="text5" type="text" name="text5" placeholder="설명을 입력하세요"><br>
                    <label for="num6">25</label>
                    <input id="num6" type="number" name="number6">
                    <label for="text6">설명</label>
                    <input id="text6" type="text" name="text6" placeholder="설명을 입력하세요"><br>
                    <label for="num7">26</label>
                    <input id="num7" type="number" name="number7">
                    <label for="text7">설명</label>
                    <input id="text7" type="text" name="text7" placeholder="설명을 입력하세요"><br>
                    <label for="num8">27</label>
                    <input id="num8" type="number" name="number8">
                    <label for="text8">설명</label>
                    <input id="text8" type="text" name="text8" placeholder="설명을 입력하세요"><br>
                    <label for="num9">28</label>
                    <input id="num9" type="number" name="number9">
                    <label for="text9">설명</label>
                    <input id="text9" type="text" name="text9" placeholder="설명을 입력하세요"><br>
                    <label for="num10">29</label>
                    <input id="num10" type="number" name="number10">
                    <label for="text10">설명</label>
                    <input id="text10" type="text" name="text10" placeholder="설명을 입력하세요">
                    <button type="submit" >확인하기</button>
                </form>
            </div>
        </div>
        <div class="index_five">
            <div class="index_five_title">
                <div class="index_five_title_one">02. ACTIVITY&ensp;&ensp;</div>
                <div class="index_five_title_two">그래프를 클릭하면 더 자세한 기록을 볼 수 있습니다.</div>
            </div>
            <div class="index_five_window">
                <div class="activity_box">
                    
                    {% for record in records %}
                        <a href="" class="activity_graph">
                            <div class="activity_graph__point"></div>
                            <div class="activity_graph__year">{{record.start_date|date:"Y"}}</div>
                            <p class="activity_date">{{record.start_date|date:"M d일"}} ~ {{record.end_date|date:"M d일"}}</p>
                            <p class="activity_name">{{record.title}}</p>
                        </a>
                        
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="index_six">
            <div class="index_six_title">
                <div class="index_six_title_text">03. REFERENCE</div>
            </div>
            <div class="index_six_window">
                <div class="index_six_real_window">
                    <div class="index_six_real_window_grid_one">
                        <div class="index_six_real_window_grid_one_up">
                            <div class="index_six_real_window_grid_one_up_image">
                                <img class="image" src="{% static 'image/info.gif'%}"></img>
                            </div>
                        </div>
                        <div class="index_six_real_window_grid_one_down">
                            <div class="index_six_real_window_grid_one_down_text">정보처리기사 자격증</div>
                        </div>
                    </div>
                    <div class="index_six_real_window_grid_two">
                        <div class="index_six_real_window_grid_two_up">
                            <div class="index_six_real_window_grid_two_up_image">
                                <img class="image" src="{% static 'image/computer.jpeg'%}"></img>
                            </div>
                        </div>
                        <div class="index_six_real_window_grid_two_down">
                            <div class="index_six_real_window_grid_two_down_text">컴퓨터활용능력 2급 자격증</div>
                        </div>
                    </div>
                    <div class="index_six_real_window_grid_three">
                        <div class="index_six_real_window_grid_three_up">
                            <div class="index_six_real_window_grid_three_up_image">+</div>
                        </div>
                        <div class="index_six_real_window_grid_three_down">
                            <div class="index_six_real_window_grid_two_down_text">추가하기</div>
                        </div>
                    </div>
                    <div class="index_six_real_window_grid_four"></div>
                    <div class="index_six_real_window_grid_five"></div>
                    <div class="index_six_real_window_grid_six"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script
    src="https://kit.fontawesome.com/4d118135bb.js"
    crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script>
        var text = {{text|safe}}.text
        var labels =   [[20],[21],[22],[23],[24],[25],[26],[27],[28],[29]]
        for (var i = 0; i < text.length; i++) { 
            labels[i].push(text[i])
    }
        var chart = new Chart(document.getElementById("line-chart"), {
        type: 'line',
        data: {
            labels:labels,
            datasets: [
                /*{ 
                data: [5,1,6,6,7,1,3,9,8,8],
                label: "이두희",
                borderColor: "#3e95cd",
                fill: false
            }, */
            { 
                data: [{{data|safe}}.data[0].num1,{{data|safe}}.data[0].num2,{{data|safe}}.data[0].num3,{{data|safe}}.data[0].num4,{{data|safe}}.data[0].num5,{{data|safe}}.data[0].num6,{{data|safe}}.data[0].num7,{{data|safe}}.data[0].num8,{{data|safe}}.data[0].num9,{{data|safe}}.data[0].num10],
                label: {{data|safe}}.data[0].username,
                borderColor: "#8e5ea2",
                fill: false
            }
        ]
        },
        options: {
            title: {
            display: true,
            text: 'Check your lifecycle graph with DooHee',
            fontSize: 50,
            
            
            }
        }
    
        })
        canvas = document.querySelector("canvas")
        canvas.style.cssText="display:block; width:100%; height:100%;"
        console.log(chart)
        ;
    </script>
<script src="{% static 'js/portfolio.js' %}" ></script>
{% endblock content %}